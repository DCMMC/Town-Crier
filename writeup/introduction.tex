\section{Introduction}

Smart contracts are computer programs that autonomously facilitate or execute a contract. For decades, they have been envisioned as a means for extending the reach of existing contract law and rendering it more precise and efficiently executable through precise logical specification of legal agreements. Szabo, who coined the term ``smart contact'' in a seminal 1993 paper~\cite{}, gave as an example a smart contract that enforces car loan payments. If the owner of the car fails to make a timely payment, a smart contract could revoke physical access and return control of the ignition key to the bank. The contract could additionally be programmed to do so only at a time that is safe for the the owner, e.g., while the car is parked.

Thanks to two properties, the emergence of decentralized cryptocurrencies such as Bitcoin has created new opportunities to realize smart contracts. First, cryptocurrencies equate control of their assets with knowledge of a private cryptographic key, in principle making control of money possible by an arbitrary computer program. Second, cryptocurrencies are built atop blockchains, whose state evolves through a consensus protocol in which transactions are processed as computations over a global data structure. As computations are performed in a decentralized manner, the system of blockchain computation may be treated in its ideal form as the equivalent of a trusted third party. This simulated trusted third party ensures fair, automated execution of computations on the blockchain and eliminates the need for trusted intermediaries. 

While the scripting language embodied in Bitcoin is intentionally limited (e.g., lacks support for loops), the recently launched Ethereum cryptocurrency permits the creation of fully decentralized blockchain code in a Turing-complete framework. Thus, in principle, Ethereum can realize fully expressive, self-enforcing, and self-executing smart contracts, going a long way toward realizing the vision of researchers and proponents.  

The most compelling applications of smart contracts, however, as Szabo's example shows, cannot be realized in isolation on a blockchain, but require access to data about real-world phenomena. Financial contracts and derivatives, perhaps the most commonly cited applications of Ethereum~\cite{}, must be able to consume data about financial markets, including equity and commodity prices and exchange rates. Other applications of smart contracts, such as insurance policies, are only realizable with access to data about weather, flights, delivery of goods, and so forth. 

To meet smart contracts' need for data, the architects of Ethereum have proposed the deployment of \emph{data feeds} (sometimes called ``oracles''), contracts on the blockchain that serve data requests by other contracts~\cite{whitepaper,yellowpaper}. A few such data feeds, such as PriceFeed and Oraclize.it, support Ethereum smart contracts today, but have a notable drawback: They provide no assurance of trustworthy data beyond the reputation of their operators (who are typically individuals or small entities).\footnote{Oraclize.it itself makes use of TLSnotary to notarize data, thereby distributing trust across two (small) operators.} To address this problem, systems such as SchellingCoin~\cite{} have been proposed that rely on prediction markets to decentralize trust; briefly, these systems provide financial mechanisms that incentivize community members to vote in favor of truthful value assignments to data (or to make predictions~\cite{Augur}). While decentralization of trust is attractive, and indeed underpins the trust model in Ethereum itself, prediction markets can support only a limited number of data feeds and have not yet seen widespread use in Ethereum. The lack of a substantive ecosystem of trustworthy data feeds in Ethereum remains a critical obstacle to its evolution. 

At the same time, a wealth of data

We propose a system called \emph{Town Crier} that acts as a bridge between existing data sources and the Ethereum blockchain. 




\subsection{Need for data feeds}




Town Crier
---------------

Key observation: Data often already exists. Challenge is to relay it in a trustworthy manner.

We propose TC. Basic ideas...

Challenges: (1) No support for attestations on blockchain; (2) Proofs of security especially challenging due to need for gas neutrality; (3) 

We demonstrate TC application to three different contract types

TC can be built upon to achieve many different goals 




Applications:
\begin{itemize}
\item micro-insurance:
    \begin{itemize}
    \item weather
    \item item delivery
    \item flight delay (note: something we could implement easily ourselves...)
    \end{itemize}
\item Ethereum and USD exchange
\item stock price
\item BTC exchange (with and without ADF)
\item Simple derivatives
\item sports betting
\end{itemize}

