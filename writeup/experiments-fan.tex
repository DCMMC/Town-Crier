\subsection{Total execution time}

% justify why a laptop is used 
We evaluated the performance of \tc on a Dell Inspiron 13-7359 laptop equipped
with an Intel i7-6500U CPU and 8.00GB memory.  This model is chosen just
because it is one of the few SGX-enabled systems available on the market as the
writing of this paper. Although the hosting platform is just moderately preferment, we
show that on a single host, the current implementation is able to handle 
transactions generated by Ethereum blockchain in real time. 


We measured the running time of handling a request. The measurement begins
at the point when a request is discovered and ends at the point when the
response is sent to delivery. 
Propagation latency of the Ethereum network
is not measured since it is out of the control of \tc. 
Table \ref{tab:eval_profiling} summarizes the execution time 
break down of handling a request from the {\sf CashSettledPut}
contract.

\begin{table}[h]
\centering
\begin{tabular}{lrr}
\toprule
  & time(ms) & percentage \\
\midrule
Switch to \encname & $0.42$ & $0.22\%$ \\
Web Scraper & $166.43$ & $84.90\%$ \\
Sign    & $27.49$ & $14.02\%$ \\
Serialization & $0.30$ & $0.15\%$ \\
Others & $1.38$ & $0.71\%$ \\
\midrule
Total   & $196.02$ & 100\% \\
\bottomrule
\end{tabular}
\caption{Running time of handling a request from {\sf CashSettledPut}}
\label{tab:eval_profiling}
\end{table}

Web scrapers contribute the most to the
total execution time. This portion of running time
is application-specific and mainly depends on the
size of fetched data.

\begin{table}[h]
\centering
\begin{tabular}{lrr}
\toprule
& time(ms) & data (Bytes)\\
\midrule
FlightInfo & $682.41$ & 17494\\
StockTicker & $166.43$  & 113 \\
\bottomrule
\end{tabular}
\caption{Running time and typical data size of web scrapers}
\label{tab:eval_profiling}
\end{table}

%Suggested by Table \ref{tab:eval_profiling}, fetching web pages 
%over HTTPS is the most expensive operation. This is because: 1)
%fetching data triggers
%a lot of context switches 
%and data transferring between the enclave and untrusted application;
%2) networking latency is reflected 

\subsection{Clock precision}

Recall that the absolute time of the \encname is verified
by including a signed time stamp in the attestation and letting 
clients check it it in real time. Therefore the latency
of attestation generation plus a round-trip time
define the precision of the absolute clock. 
We evaluated the cycles consumed in generating an attestation and
signing a Unix time stamp.


\begin{table}[h]
\centering
\begin{tabular}{lr}
\toprule
  & time(ms) \\
\midrule
\texttt{sgx\_init\_quote} & $40.46$ \\
\texttt{sgx\_create\_report} & $0.02$ \\
Signing the time stamp & $27.48$ \\
\bottomrule
\end{tabular}
\caption{Running time of generating \att}
\label{tab:eval_att}
\end{table}

Table \ref{tab:eval_att} summarizes the execution time
break down of generating an attestation along with a 
signed time stamp. Note that \texttt{sgx\_init\_quote}
and \texttt{sgx\_create\_report} are both one-time
operation that are executed only once in the lifetime
of the enclave. 

